datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// React, Vue などのフレームワークに関するデータを格納する
model Framework {
  id                 Int              @id @default(autoincrement())
  name               String // フレームワーク名
  owner              String // リポジトリのオーナー名 e.g. sveltjs, vuejs
  timeSeriesDataList TimeSeriesData[]
}

// 時系列データを格納する
model TimeSeriesData {
  id             Int       @id @default(autoincrement())
  framework      Framework @relation(fields: [frameworkId], references: [id])
  frameworkId    Int
  date           DateTime  @default(now())
  starCount      Int       @default(0) // その時点での累計スター数 (その日に獲得したスター数ではないことに注意)
  openIssueCount Int       @default(0)
}
